# Non-sensitive config for Triage Agent. Adjust KAFKA_BOOTSTRAP_SERVERS if your Kafka uses a different host.
apiVersion: v1
kind: ConfigMap
metadata:
  name: triage-agent-config
  namespace: support-agents
data:
  KAFKA_BOOTSTRAP_SERVERS: "kafka.confluent.local:9092"
  KAFKA_TOPIC: "ticket.events"
  # LLM_PROVIDER: ollama (in-cluster, no API key) | anthropic (Claude, recommended for prod) | openai
  LLM_PROVIDER: "ollama"
  OLLAMA_BASE_URL: "http://ollama.support-agents.svc:11434/v1"
  # Default qwen2.5:0.5b fits ~1Gi; use qwen2.5:3b or llama3.2 for better accuracy (increase Ollama memory).
  OLLAMA_MODEL: "qwen2.5:0.5b"
  # Confidence threshold (0â€“1): below this, route to ticket.triaged.human for review.
  CONFIDENCE_THRESHOLD: "0.7"
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
  METRICS_PORT: "9090"
  # DynamoDB table for customer enrichment. Set after running infra Terraform (output: dynamodb_table_name).
  # DYNAMODB_TABLE: "support-customers"
  # MOCK_LLM: "true" for e2e/CI when API credits are unavailable.
  MOCK_LLM: "false"
